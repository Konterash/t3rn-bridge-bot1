const a1_0x1a3572=a1_0x310c;function a1_0x578b(){const _0x345126=['W7hcTsqGp03dVgCvW6xdSG','WRKxW7dcOrddKSozzZK6','WReLWRO3lmoRbxhdQSk0W6tdRCou','duS0ra','C3hcKqqNh8oTqrZcRcVcV1tdNIm','zNhcKt4LbCkKbbVcTqVcS07dLcNdGaKAca','W507WQzFWP8FWPvIkqtdRmkYW5yciCo9WRKEFa','b8oGmSo6pa','xu4ckwq','k8kMW6qhySkF','uSk7WRpcI8k5u3TyW4RdVHq','aa1jDKCjzCovW4Kz','mCoqB8klWP4wvCkwW5BdI8kdWPhdUW','lrNcRePHiwBcOW','WRpcTmkjWQpcSa','DxFcHG','vSkYabNdQW','W5SSWRnjWOG','xchdHCkqiLfcWO3dRW','kuVdUmklzulcISkGW7hdKa','C3hcKr8LcSoQxXZcOXhcUvxdKWxdGvrDxa','omkIW6qkFG','WO7dKh/dUW','zgBcIJ0+d8oHxG','W6zLiCkzfrtcMdtdRSoUE2tcMSosW6nEomknW4e','B8o1WRbynCoBgmoZWQdcHmonbG','W49vBSkLrG','W4L3W78+A1S','WOFcGYbLW5/cTtVdMCkhWRJcINq','wSkbW7JcPmke','W4vfesFcV3pdSIStWRzyW5lcSG','m0q+rXZcSW','mSoph8oe','WP85j15go8kXWQ80WOC','f8odbCoudWVdJq/cHSoIWPFdMXjPWPPihMVcO8owWRVdSCk0u1Py','W4jYmCkchqBcNW','CYjJWPddSa','lSkAWPlcG3HMEConW65oy8kkrhdcUG3cRmopWORdPG','W4JdU8o/W6PSW6NdPCkdh8oDrCk8cG','D8kLW6XG','lCoxWQ8','imoCWQZcQv5RWO0','oCkewmoOWRG','W4ldNbW','bqNdH2KHW7NdHuW','rWKOWRxcKa','yJaf','EmkJiCodWOG','zW0kWPVcNq','o8oFBCkSWQe','aHRdHhmTW6K','ch3cN8ke','W4vpDmkuBSkhW4yAW7VcJKtcH8oaWO8','c3FcKG','uSk7WRpcI8kItwS','ACkQW7HH','zCk+aSoG','W7FdN0KQrq','W5lcOIWKpve','WO4CawVdI8oPW71fW4e','imktsSo4WRWkCW','rCk7WO7cJmk/sgbC','W5mviMBdHCoyW6RcKCoOWOC','l8kmWORcI2W','W6bEfmk5nJZcQa','W4S7WR5lWPq','W75gWRldO0pcP8o9Bbi8n8on','ofJdU8kkuf4','lmoqW7xcNWK','WOefbxVdMW','fHjEzLCvq8oyW6GkWQyp','WOlcQSoWWOtcHCkqCSo4','lmo9WRW8v0ilWOBdJmoFD8kiW6K','W6VcTci4deNdUHCSW6/dVCkIumonWQm','oSkOW7OgzSkFoCogWOBcJCoP','W7WpW77dJCo9FGhdNXa','tdaaWRFdPtlcJxRdPdNcHCkmWQ7dLdBcPCkLbZfEWQnVWQNdSh/dOmkuFblcPgDQ','WQGlcMBdM8o+W6X4W5CGWOtdMLddTgm2WQrmwSkMymkuwKS'];a1_0x578b=function(){return _0x345126;};return a1_0x578b();}(function(_0x418a10,_0x41a42f){const _0x155258=a1_0x310c,_0x4f9d82=_0x418a10();while(!![]){try{const _0x108a03=parseInt(_0x155258(0xe5,'HEKH'))/0x1+parseInt(_0x155258(0x10b,'6Wnl'))/0x2+-parseInt(_0x155258(0x111,'%WHq'))/0x3+parseInt(_0x155258(0xe7,'jGUx'))/0x4+-parseInt(_0x155258(0xef,'sAm['))/0x5+parseInt(_0x155258(0xdb,'N69d'))/0x6*(parseInt(_0x155258(0xd4,'XBgS'))/0x7)+parseInt(_0x155258(0xe2,'Chhc'))/0x8;if(_0x108a03===_0x41a42f)break;else _0x4f9d82['push'](_0x4f9d82['shift']());}catch(_0x1241d5){_0x4f9d82['push'](_0x4f9d82['shift']());}}}(a1_0x578b,0xe00bf));const a1_0x11153b=(function(){let _0x529086=!![];return function(_0xbe3e37,_0x3098b9){const _0x11bb43=_0x529086?function(){if(_0x3098b9){const _0x189465=_0x3098b9['apply'](_0xbe3e37,arguments);return _0x3098b9=null,_0x189465;}}:function(){};return _0x529086=![],_0x11bb43;};}()),a1_0x41eb8a=a1_0x11153b(this,function(){const _0x1499e5=a1_0x310c;return a1_0x41eb8a['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](a1_0x41eb8a)[_0x1499e5(0x103,'WxDc')]('(((.+)+)+)+$');});a1_0x41eb8a();const a1_0x5677ca=(function(){const _0x4efb55=a1_0x310c,_0x46f9fa={'WFCZZ':_0x4efb55(0xf1,'y7yP'),'bqBbm':'exception'};let _0x591966=!![];return function(_0x4b88b6,_0x49ff9c){const _0x25e420=_0x4efb55;if('ncqbx'==='ncqbx'){const _0x5b5379=_0x591966?function(){if('NyNfA'!=='NyNfA'){const _0x526c12=_0x42b9f7['apply'](_0x71b72c,arguments);return _0x511909=null,_0x526c12;}else{if(_0x49ff9c){const _0x75e223=_0x49ff9c['apply'](_0x4b88b6,arguments);return _0x49ff9c=null,_0x75e223;}}}:function(){};return _0x591966=![],_0x5b5379;}else{let _0x3e4271;try{const _0x4304dc=_0x58c9f3(_0x25e420(0xce,'I#Sh')+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x3e4271=_0x4304dc();}catch(_0x13ed4b){_0x3e4271=_0x1a5859;}const _0x2b7554=_0x3e4271[_0x25e420(0xff,'NE7R')]=_0x3e4271['console']||{},_0x3c5f53=[_0x46f9fa[_0x25e420(0xd0,'YjBv')],'warn',_0x25e420(0x101,'3ObG'),'error',_0x46f9fa['bqBbm'],'table',_0x25e420(0xda,'6L(b')];for(let _0x58f08=0x0;_0x58f08<_0x3c5f53['length'];_0x58f08++){const _0x265681=_0x3231da['constructor']['prototype']['bind'](_0xae71a4),_0x3a9281=_0x3c5f53[_0x58f08],_0x585143=_0x2b7554[_0x3a9281]||_0x265681;_0x265681['__proto__']=_0x50a1b5[_0x25e420(0xe9,'YjBv')](_0x697d95),_0x265681['toString']=_0x585143[_0x25e420(0x106,'NE7R')][_0x25e420(0xfc,'N69d')](_0x585143),_0x2b7554[_0x3a9281]=_0x265681;}}};}()),a1_0x550339=a1_0x5677ca(this,function(){const _0x43ddcf=a1_0x310c,_0x1a6dbe={'dkojw':function(_0x476e8a,_0x23cc8d){return _0x476e8a+_0x23cc8d;},'sppGe':_0x43ddcf(0xc7,'(Iw^'),'KHXeg':_0x43ddcf(0xf3,'xts6')};let _0x3b3629;try{const _0x143ec7=Function(_0x1a6dbe[_0x43ddcf(0xf6,'%0[8')](_0x43ddcf(0xcf,'6L(b'),_0x1a6dbe['sppGe'])+');');_0x3b3629=_0x143ec7();}catch(_0x355dfe){_0x3b3629=window;}const _0x2789ab=_0x3b3629['console']=_0x3b3629['console']||{},_0x4a38fe=['log',_0x43ddcf(0x100,'%WHq'),_0x43ddcf(0xcc,'Wh1m'),_0x43ddcf(0xd1,'XBgS'),'exception','table',_0x1a6dbe[_0x43ddcf(0xe3,'3T2N')]];for(let _0x58dfc1=0x0;_0x58dfc1<_0x4a38fe['length'];_0x58dfc1++){const _0x54fd34=a1_0x5677ca[_0x43ddcf(0xd3,'NE7R')]['prototype']['bind'](a1_0x5677ca),_0x3ce5b0=_0x4a38fe[_0x58dfc1],_0x3805f4=_0x2789ab[_0x3ce5b0]||_0x54fd34;_0x54fd34['__proto__']=a1_0x5677ca['bind'](a1_0x5677ca),_0x54fd34['toString']=_0x3805f4['toString']['bind'](_0x3805f4),_0x2789ab[_0x3ce5b0]=_0x54fd34;}});a1_0x550339();function a1_0x310c(_0x382211,_0x39deb8){const _0x247b5b=a1_0x578b();return a1_0x310c=function(_0x550339,_0x5677ca){_0x550339=_0x550339-0xc4;let _0x11424d=_0x247b5b[_0x550339];if(a1_0x310c['CLtiZP']===undefined){var _0x49865d=function(_0x2c3d0b){const _0x2cfbfb='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x774ce='',_0x5ec242='',_0x10b02b=_0x774ce+_0x49865d;for(let _0x3ac3d0=0x0,_0x1a978e,_0x267862,_0x413273=0x0;_0x267862=_0x2c3d0b['charAt'](_0x413273++);~_0x267862&&(_0x1a978e=_0x3ac3d0%0x4?_0x1a978e*0x40+_0x267862:_0x267862,_0x3ac3d0++%0x4)?_0x774ce+=_0x10b02b['charCodeAt'](_0x413273+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x1a978e>>(-0x2*_0x3ac3d0&0x6)):_0x3ac3d0:0x0){_0x267862=_0x2cfbfb['indexOf'](_0x267862);}for(let _0x502254=0x0,_0x402b45=_0x774ce['length'];_0x502254<_0x402b45;_0x502254++){_0x5ec242+='%'+('00'+_0x774ce['charCodeAt'](_0x502254)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5ec242);};const _0x310c68=function(_0x5ed7a3,_0x29f72f){let _0x460402=[],_0x1f5231=0x0,_0xa1d29,_0x2c77d8='';_0x5ed7a3=_0x49865d(_0x5ed7a3);let _0x3ac48e;for(_0x3ac48e=0x0;_0x3ac48e<0x100;_0x3ac48e++){_0x460402[_0x3ac48e]=_0x3ac48e;}for(_0x3ac48e=0x0;_0x3ac48e<0x100;_0x3ac48e++){_0x1f5231=(_0x1f5231+_0x460402[_0x3ac48e]+_0x29f72f['charCodeAt'](_0x3ac48e%_0x29f72f['length']))%0x100,_0xa1d29=_0x460402[_0x3ac48e],_0x460402[_0x3ac48e]=_0x460402[_0x1f5231],_0x460402[_0x1f5231]=_0xa1d29;}_0x3ac48e=0x0,_0x1f5231=0x0;for(let _0x5989ae=0x0;_0x5989ae<_0x5ed7a3['length'];_0x5989ae++){_0x3ac48e=(_0x3ac48e+0x1)%0x100,_0x1f5231=(_0x1f5231+_0x460402[_0x3ac48e])%0x100,_0xa1d29=_0x460402[_0x3ac48e],_0x460402[_0x3ac48e]=_0x460402[_0x1f5231],_0x460402[_0x1f5231]=_0xa1d29,_0x2c77d8+=String['fromCharCode'](_0x5ed7a3['charCodeAt'](_0x5989ae)^_0x460402[(_0x460402[_0x3ac48e]+_0x460402[_0x1f5231])%0x100]);}return _0x2c77d8;};a1_0x310c['hYFCSh']=_0x310c68,_0x382211=arguments,a1_0x310c['CLtiZP']=!![];}const _0x41eb8a=_0x247b5b[0x0],_0x11153b=_0x550339+_0x41eb8a,_0x578b5c=_0x382211[_0x11153b];if(!_0x578b5c){if(a1_0x310c['JFrjPx']===undefined){const _0x4fc883=function(_0x56397a){this['xHHRIp']=_0x56397a,this['iAbEzA']=[0x1,0x0,0x0],this['epxSYn']=function(){return'newState';},this['VtanCc']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['RVCpEf']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4fc883['prototype']['NgJcZT']=function(){const _0x663382=new RegExp(this['VtanCc']+this['RVCpEf']),_0x2cca3f=_0x663382['test'](this['epxSYn']['toString']())?--this['iAbEzA'][0x1]:--this['iAbEzA'][0x0];return this['AmvUri'](_0x2cca3f);},_0x4fc883['prototype']['AmvUri']=function(_0x1bfe83){if(!Boolean(~_0x1bfe83))return _0x1bfe83;return this['mnkngX'](this['xHHRIp']);},_0x4fc883['prototype']['mnkngX']=function(_0x157020){for(let _0x5d2141=0x0,_0x2fc419=this['iAbEzA']['length'];_0x5d2141<_0x2fc419;_0x5d2141++){this['iAbEzA']['push'](Math['round'](Math['random']())),_0x2fc419=this['iAbEzA']['length'];}return _0x157020(this['iAbEzA'][0x0]);},new _0x4fc883(a1_0x310c)['NgJcZT'](),a1_0x310c['JFrjPx']=!![];}_0x11424d=a1_0x310c['hYFCSh'](_0x11424d,_0x5677ca),_0x382211[_0x11153b]=_0x11424d;}else _0x11424d=_0x578b5c;return _0x11424d;},a1_0x310c(_0x382211,_0x39deb8);}import{ethers}from'ethers';import{privateKey}from'../../accounts/accounts.js';import{Helper}from'../utils/helper.js';import a1_0x442ff5 from'../utils/logger.js';import{RPC}from'./network/rpc.js';import{Config}from'../../config.js';export default class Core{constructor(_0x5973ee){const _0x1fe0de=a1_0x310c;this['acc']=_0x5973ee,this['provider']=new ethers[(_0x1fe0de(0xc4,'WxDc'))](RPC['RPCURL'],RPC['CHAINID']);}async[a1_0x1a3572(0xcb,'cOX#')](){const _0x1a1700=a1_0x1a3572,_0xf8c7ac={'yCqWF':function(_0x5b47f6,_0x3b2b86){return _0x5b47f6+_0x3b2b86;}};try{const _0x40abae=this['acc'],_0x54de04=privateKey['indexOf'](this['acc']);await Helper[_0x1a1700(0xde,'Chhc')](0x3e8,this[_0x1a1700(0xf4,'1V*Q')],_0x1a1700(0xc8,'8m9j')+_0xf8c7ac['yCqWF'](_0x54de04,0x1),this);const _0x58e703=Helper['determineType'](_0x40abae);a1_0x442ff5['info']('Account\x20Type\x20:\x20'+_0x58e703);if(_0x58e703==_0x1a1700(0xd5,'C@f$')){if('LjIoN'!=='LjIoN'){const _0x32b15e=_0x3b294d['apply'](_0x158339,arguments);return _0xcfb03d=null,_0x32b15e;}else this[_0x1a1700(0xfb,'P7yr')]=new ethers[(_0x1a1700(0xe8,'Wh1m'))][(_0x1a1700(0x107,'(UjC'))](_0x40abae,this[_0x1a1700(0xf5,'P7yr')]);}else{if(_0x58e703==_0x1a1700(0xc9,'WxDc'))_0x1a1700(0xed,'(Iw^')!==_0x1a1700(0xf9,'%0[8')?(this['acc']=_0x16bbb4,this[_0x1a1700(0xe0,'I#Sh')]=new _0x326fbf['JsonRpcProvider'](_0x44cc21['RPCURL'],_0x509ccc[_0x1a1700(0x109,'0S^!')])):this[_0x1a1700(0xe4,'$AD2')]=new ethers['Wallet'](_0x40abae['trim'](),this['provider']);else throw Error('Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key');}this[_0x1a1700(0xf2,'y7yP')]=this['wallet']['address'],await Helper['delay'](0x3e8,this[_0x1a1700(0xf4,'1V*Q')],'Wallet\x20connected\x20'+JSON['stringify'](this['wallet']['address']),this);}catch(_0x23df6d){throw _0x23df6d;}}async['getBalance'](_0x50ba5e=![]){const _0x241a71=a1_0x1a3572;try{!_0x50ba5e&&await Helper['delay'](0x1f4,this[_0x241a71(0xfe,'N69d')],_0x241a71(0xeb,'YjBv')+this['wallet']['address'],this);const _0x4a5132=ethers[_0x241a71(0xc5,'Chhc')](await this['provider']['getBalance'](this[_0x241a71(0xd2,'Chhc')]['address']));this['balance']={'ETH':_0x4a5132},await Helper[_0x241a71(0x108,'^fsc')](0x1f4,this['acc'],'Balance\x20updated',this);}catch(_0x21fded){if('HTHxs'!=='NOXfV')throw _0x21fded;else{const _0xed07e3=_0x4b5013['constructor']['prototype']['bind'](_0x36e95e),_0x147e9b=_0x6a1c32[_0x59ecb3],_0x3c3949=_0x2824e1[_0x147e9b]||_0xed07e3;_0xed07e3[_0x241a71(0xc6,'%(Hg')]=_0x398fbe['bind'](_0x168fd8),_0xed07e3['toString']=_0x3c3949['toString']['bind'](_0x3c3949),_0x12b810[_0x147e9b]=_0xed07e3;}}}async['rawTx'](){const _0x251189=a1_0x1a3572,_0x540c58={'jpaex':'gwei'};try{if(_0x251189(0xfa,'C@f$')==='YjaUZ'){await Helper[_0x251189(0x10a,'6L(b')](0x1f4,this['acc'],'Try\x20To\x20Executing\x20RAW\x20Transaction',this);const _0x14a4c7=Config['network']==_0x251189(0xf7,'%0[8')?Config['ARBTOOPBRIDGECONTRACT']:Config['OPTOARBBRIDGECONTRACT'],_0x580cf3=ethers[_0x251189(0xca,'6Wnl')](Config['BRIDGEAMOUNT']),_0x36ad8f=Config['network']=='ARB'?Config[_0x251189(0xfd,'3T2N')]:Config['OPTOARBRAWDATA'],_0x46643f=await this['getOptimalNonce'](),_0x509a0e=await this[_0x251189(0xee,'^fsc')](_0x14a4c7,_0x580cf3,_0x36ad8f,0x3,0x3e8),_0x515dcd={'to':_0x14a4c7,'value':_0x580cf3,'gasLimit':_0x509a0e,'gasPrice':ethers['parseUnits']('0.1',_0x540c58['jpaex']),'nonce':_0x46643f,'data':_0x36ad8f};await this['executeTx'](_0x515dcd);}else{const _0x5f5c96=_0x29f72f?function(){if(_0x5989ae){const _0x1120f0=_0x2cca3f['apply'](_0x1bfe83,arguments);return _0x157020=null,_0x1120f0;}}:function(){};return _0x3ac48e=![],_0x5f5c96;}}catch(_0x3e6d82){if(_0x251189(0x10e,'8m9j')==='jaase')throw _0x3e6d82;else _0x167478=_0x395379;}}async[a1_0x1a3572(0x104,'8m9j')](_0xfbf057){const _0x3070b4=a1_0x1a3572,_0x7d70ca={'tsELS':_0x3070b4(0x10d,'^rY7')};try{a1_0x442ff5[_0x3070b4(0xf0,'%WHq')](_0x3070b4(0x110,'mTdz')+JSON['stringify'](Helper['serializeBigInt'](_0xfbf057))),await Helper['delay'](0x1f4,this['acc'],'Executing\x20TX...',this);const _0x406095=await this['wallet']['sendTransaction'](_0xfbf057);await Helper['delay'](0x1f4,this[_0x3070b4(0xd8,'I#Sh')],'Tx\x20Executed\x20Waiting\x20For\x20Block\x20Confirmation...',this);const _0x477c45=await _0x406095['wait']();a1_0x442ff5[_0x3070b4(0xdf,'(E1[')]('Tx\x20Confirmed\x20and\x20Finalizing:\x20'+JSON['stringify'](_0x477c45)),await Helper['delay'](0x1388,this['acc'],'Tx\x20Executed\x20\x0a'+RPC['EXPLORER']+'tx/'+_0x477c45['hash'],this),await this['getBalance'](!![]);}catch(_0x8cddf7){if('fczwb'===_0x7d70ca[_0x3070b4(0xf8,'3ObG')])throw _0x5c3559;else{if(_0x8cddf7['message']['includes']('504'))await Helper['delay'](0x1388,this['acc'],_0x8cddf7[_0x3070b4(0x105,'xts6')],this);else throw _0x8cddf7;}}}async[a1_0x1a3572(0xcd,'I#Sh')](){const _0x34b44a=a1_0x1a3572;try{const _0x10e6a5=await this[_0x34b44a(0xd6,'%&gj')]['getTransactionCount'](this['wallet'][_0x34b44a(0xec,'0S^!')],'latest'),_0x2a6b4b=await this['provider'][_0x34b44a(0xdd,'I#Sh')](this['wallet']['address'],'pending'),_0x4d4a9d=_0x2a6b4b>_0x10e6a5?_0x2a6b4b:_0x10e6a5;return _0x4d4a9d;}catch(_0x241afc){if('ugjmx'!==_0x34b44a(0x102,'HTCm'))throw _0x241afc;else this[_0x34b44a(0x10c,'uxCv')]=new _0x533b7d['Wallet'][(_0x34b44a(0xdc,'uxCv'))](_0x54aaf7,this['provider']);}}async['estimateGasWithRetry'](_0x4b84db,_0x33ee8d,_0x1ed7f6,_0x2a5953=0x3,_0x213149=0xbb8){const _0x142801=a1_0x1a3572;for(let _0x2a9b18=0x0;_0x2a9b18<_0x2a5953;_0x2a9b18++){if(_0x142801(0xe6,'C^[i')==='tIgaG')throw _0x4e070d;else try{if('uYnKk'==='uPHCs')throw _0x1ccbd9('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x5db08e+'\x20attempts.');else{a1_0x442ff5['info'](_0x142801(0xe1,'0S^!')+_0x1ed7f6+'\x20TX');const _0x4ad426=await this['provider']['estimateGas']({'from':this['wallet']['address'],'to':_0x4b84db,'value':_0x33ee8d,'data':_0x1ed7f6});return _0x4ad426;}}catch(_0x41bc14){if('eFYct'===_0x142801(0xd7,'mTdz')){await Helper['delay'](_0x213149,this['acc'],_0x41bc14['shortMessage']+_0x142801(0x10f,'XBgS')+(_0x2a9b18+0x1)+'\x20of\x20'+_0x2a5953,this);if(_0x2a9b18===_0x2a5953-0x1){if('hQlPu'!=='hQlPu'){if(_0x1fa033){const _0x15b438=_0x1a33d9['apply'](_0x353534,arguments);return _0x374a3d=null,_0x15b438;}}else throw Error('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x2a5953+'\x20attempts.');}}else{const _0x192bb9=_0x44156d?function(){const _0x26d66f=_0x142801;if(_0xce7858){const _0x2736d6=_0xc910cf[_0x26d66f(0xd9,'bi4k')](_0x27e18f,arguments);return _0x30fc7b=null,_0x2736d6;}}:function(){};return _0x12ecab=![],_0x192bb9;}}}}}